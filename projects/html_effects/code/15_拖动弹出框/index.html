<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.nav {
			height: 30px;
			background: #036663;
			border-bottom: 1px solid #369;
			line-height: 30px;
			padding-left: 30px;
		}
		.nav a {
			color: #fff;
			text-align: center;
			font-size: 14px;
			text-decoration: none;
		}
		.d-box {
			width: 400px;
			height: 300px;
			border: 5px solid #eee;
			box-shadow: 2px 2px 2px 2px #666;
			position: absolute;
			top: 50%;
			left: 50%;
			margin-top: -155px;
			margin-left: -205px;
		}
		.hd {
			width: 100%;
			height: 25px;
			background-color: #7c9299;
			border-bottom: 1px solid #369;
			line-height: 25px;
			color: white;
			cursor: move; 
		}
		.box-close {
			float: right;
			cursor: pointer;
		}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var box = document.getElementById("d_box"); //要移动的父盒子
			var drop = document.getElementById("drop"); //拖拽的子盒子
			startDrop(drop,box);  //鼠标放到drop上拖拽，移动的是box
			/*
			 * current：当前拖拽的盒子
			 *    move：移动的盒子
			 */ 
			function startDrop(current, move){
				current.onmousedown = function(event){
					var event = event || window.event;
					//var x = event.clientX - move.offsetLeft; //当前盒子的x位置
					//var y = event.clientY - move.offsetTop;  //当前盒子的y位置
					var x = event.clientX - move.offsetLeft - 205; //当前盒子的x位置，减去margin-left
					var y = event.clientY - move.offsetTop - 155;  //当前盒子的y位置，减去margin-top

					document.onmousemove = function(event){
						var event = event || window.event;
						move.style.left = event.clientX - x + "px";
						move.style.top = event.clientY - y + "px";

						window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();
					}
				}
				document.onmouseup = function(){ //鼠标弹起之后，鼠标继续移动不应该操作
					document.onmousemove = null;
				}
			}
		}
	</script>
</head>
<body>
	<div class="nav">
		<a href="javascript:;" id="register">注册信息</a>
	</div>
	<div class="d-box" id="d_box">
		<div class="hd" id="drop">注册信息（可以拖拽）
			<span class="box-close" id="box_close">【关闭】</span>
		</div>
		<div class="bd"></div>
	</div>
</body>
</html>